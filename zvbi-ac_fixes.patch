diff -urN zvbi-0.2.1.orig/configure.in zvbi-0.2.1/configure.in
--- zvbi-0.2.1.orig/configure.in	Thu Aug 22 22:56:56 2002
+++ zvbi-0.2.1/configure.in	Thu Aug 22 23:09:27 2002
@@ -4,12 +4,6 @@
 AC_INIT(configure.in)
 AM_INIT_AUTOMAKE(zvbi, 0.2.1)
 AM_CONFIG_HEADER(config.h)
-AM_ACLOCAL_INCLUDE(macros)
-
-dnl Inherit -g -m -b -V etc from environment
-test "x`echo $CFLAGS | grep -e -g`" != "x" && CFLAGS="$CFLAGS -O0"
-CFLAGS="-O2 $CFLAGS"
-dnl -fomit-frame-pointer malfunctioned...?
 
 AC_PROG_CC
 AM_PROG_LIBTOOL
@@ -22,6 +16,8 @@
 #endif /* SITE_DEF_H */
 EOF
 
+AM_CONDITIONAL(ENABLE_GTK_DOC,0)
+
 dnl
 dnl Check whether program_invocation_name exists, GNU extension.
 dnl
@@ -69,7 +65,7 @@
 dnl
 PNG_LIB=""
 HAVE_PNG="yes"
-AC_CHECK_LIB(png, png_destroy_write_struct, PNG_LIB="-lpng -lz -lm", HAVE_PNG="no", -lz -lm)
+AC_CHECK_LIB(png, png_destroy_write_struct, [PNG_LIB="-lpng"], [HAVE_PNG="no"])
 if test "x$HAVE_PNG" = "xyes"; then
 AC_DEFINE(HAVE_LIBPNG, 1, [Define if you have libpng])
 fi
@@ -106,23 +102,14 @@
 dnl Native language support
 dnl
 ALL_LINGUAS="de es fr nl pl sv"
-AM_GNU_GETTEXT(, [need-ngettext])
-
-saved_ldflags="$LDFLAGS"
-if test "x$USE_INCLUDED_LIBINTL" = "xyes"; then
-LDFLAGS="$LDFLAGS intl/libintl.a"
-else
-LDFLAGS="$LDFLAGS $INTLLIBS"
-fi
+AM_GNU_GETTEXT
 
 AC_CHECK_FUNCS(ngettext)
 
-LDFLAGS="$saved_ldflags"
-
 dnl
 dnl Check for gtk-doc
 dnl
-GTK_DOC_CHECK
+dnl GTK_DOC_CHECK
 
 dnl
 dnl Output
@@ -132,15 +119,9 @@
 src/Makefile
 intl/Makefile
 po/Makefile.in
-po/Makefile
 test/Makefile
 zvbi.spec
 doc/Makefile
 contrib/Makefile
 ])
 
-if test ! -r po/Makefile; then
-	PF="POT"
-	PF=$PF"FILES"
-        sed -e "/$PF =/r po/PF" po/Makefile.in > po/Makefile
-fi
